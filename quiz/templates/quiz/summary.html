{% extends "base.html" %}

{% block html_title %}Quizzes - Geometas{% endblock %}

{% block main %}

    <div class="">
        <h2 class="text-2xl mb-4 text-slate-900">{{ session.quiz.name }}</h2>

        <div class="font-medium py-4">
            You mastered {{ correct_fact_count }} of {{ total_fact_count }} metas ({{correct_percentage|floatformat:"0"}}%)
        </div>

        <div class="mt-4">
            <div class="grid grid-cols-2 gap-4">
                {% for quiz_session_fact in session.quizsessionfacts.all %}
                    <div class="flex">
                        <div class="w-20 mr-4">
                            <img src="{{ quiz_session_fact.fact.image_url }}" class="max-h-12">
                        </div>
                        <div class="my-auto">{{ quiz_session_fact.fact.answer|truncatechars:'50' }}</div>
                    </div>
                    <div class="my-auto font-medium">
                        {% if quiz_session_fact.review_result == 'correct' %}
                            <span class="text-green-600">✅ Easy</span>
                        {% else %}
                            <span class="text-red-600">❌ Hard</span>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
        </div>

        <div class="max-w-full pt-12 fixed bottom-0 inset-x-0 sm:relative sm:bottom-auto">
            <a 
            class="font-semibold h-16 px-6 sm:rounded-lg flex items-center justify-center bg-sky-400 hover:bg-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 focus:ring-offset-slate-50 text-white " 
                href="{% url 'home' %}"
                id="advanceLink">
                Back to Quizzes
            </a>
        </div>
    
        <script>
            {% include 'quiz/components/js/space-shortcut.html' %}
        </script>

    </div>

{% endblock %}